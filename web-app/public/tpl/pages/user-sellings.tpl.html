<ng-include class="main-head" src="'tpl/layout/main-head.tpl.html'"></ng-include>

<div class="row" class="products-list">
    <div class="col-sm-12 col-lg-8 col-md-9 col-md-push-2">

        <div id="results">

            <!-- sale -->

            <div ng-repeat="item in layout.pagination.items" class="product panel panel-default">
                <div class="panel-body">

                    <div class="col-sm-9 col-sm-push-3">
                        
                        <div class="title"><a href="#/product/{{ item.product.id }}">{{ item.product.title }}</a></div>

                        <div class="price">${{ item.total }}</div>
                        
                        <div class="more-info">
                            <div>
                                <strong>Buyer: </strong>
                                <span class="value"><a href='#/user/{{item.buyer.id}}'>{{ item.buyer.username }}</a></span>
                            </div>
                            <div>
                                <strong>Price: </strong>
                                <span class="value">$ {{ item.price }}</span>
                            </div>
                            <div>
                                <strong>Quantity: </strong>
                                <span class="value">{{ item.quantity }}</span>
                            </div>   
                            <div>
                                <strong>Total: </strong>
                                <span class="value">$ {{ item.total }}</span>
                            </div> 
                            <div>
                                <strong>Sold at: </strong>
                                <span class="value">{{ item.created_at }}</span>
                            </div> 
                        </div>
                    </div>
                    <div class="col-sm-3 col-sm-pull-9 hidden-xs photoCont">
                        <a href="#/product/{{ item.productid }}">
                            <img ng-src="{{ layout.getProductImage(item.product.id) }}" class="img-responsive photo" alt="Responsive image">
                        </a>
                    </div>

                    <div class="actions" ng-show="auth.isLogged()">
<!--
                        <button type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-eye-open" aria-hidden="true">
                            </span>
                        </button>
-->
                        <a type="button" class="btn btn-favourite btn-default" ng-class="{'btn-favourite-active' : item.favourite }" ng-click="layout.toggleFav(item)">
                            <span class="glyphicon glyphicon-heart-empty" aria-hidden="true">
                            </span>
                        </a>                          
                    </div>                  
                </div>
            </div>

            <!-- end sale -->

        </div>

        <!-- end results -->

        <uib-pagination direction-links="false" boundary-links="true" total-items="layout.pagination.totalItems" ng-model="layout.pagination.currentPage" ></uib-pagination>

    </div>
</div>